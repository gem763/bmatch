{% extends "app/layout.html" %}

{% block menu_top %}
  {% include "app/menu_top.html" %}
{% endblock menu_top %}

{% block content %}
{% load static %}
<style>
  #top-header {
    display: none;
  }

  /* #intro {
    width: 100%;
    height: 300px;
    background: url("{% static 'layout/intro_background.jpg' %}");
    background-repeat: repeat;
    background-size: contain;
    display: flex;
    align-items: center;
    justify-content: center;
  } */

  .intromenu-item {
    border-radius: 5px !important;
    width: 80px !important;
    height: 80px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
  }

  .intromenu-icon {
    position: absolute;
    width: 40%;
    height: 40%;
    transform: translate(0, -20%);
  }

  .intromenu-label {
    position: absolute;
    bottom: 10%;
  }

  #feedbox {
    border-style: solid;
    border-width: 15px;
    border-color: rgba(255,132,9,1);
    padding: 10px;
    position: relative;
  }

  #feedbox-profile {
    object-fit: cover;
    width: 40px;
    height: 40px;
    position: absolute;
    top: 10px;
    left: 10px;
  }

  #feedbox textarea {
    resize: none;
    background: none;
    padding-left: 50px;
    padding-top: 10px;
    width: 100%;
    height: 40px;
    overflow-y: hidden;
    border: none;
    line-height: 1.3em;
  }

  #feedbox-footmenu {
    background: none;
    padding: 0;
  }

  .feedbox-footmenu-item {
    border-radius: 20px !important;
    margin: 1px !important;
    width: 40px !important;
    height: 40px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
  }

  .feedbox-footmenu-icon {
    position: absolute;
    width: 60%;
    height: 60%;
    top: 50%;
    left: 20px;
    transform: translate(-50%, -50%);
  }


  #feedbox-topmenu {
    background: none;
  }

  .feedbox-topmenu-item {
    border-radius: 5px !important;
    width: 60px !important;
    height: 60px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
  }

  .feedbox-topmenu-icon {
    position: absolute;
    width: 40%;
    height: 40%;
    transform: translate(0, -20%);
  }

  .feedbox-topmenu-label {
    position: absolute;
    bottom: 10%;
    font-size: 11px;
  }
</style>


<div class="ui vertical masthead center aligned segment" style="background:none;border:none;">

  <div class="ui text container">

    <table class="ui structured fixed unstackable very basic table">
      <tbody>
        <tr style="border:none;">
          <td class="eight wide" rowspan="2" style="padding:5px;">
            <div style="background:none;position:relative;width:100%;padding-top:100%;">
              <img src="{{ feeds_top.0.image.url }}" style="object-fit:cover;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;">
            </div>
          </td>
          <td class="four wide" style="padding:5px;">
            <div style="background:none;position:relative;width:100%;padding-top:100%;">
              <img src="{{ feeds_top.1.image.url }}" style="object-fit:cover;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;">
            </div>
          </td>
          <td class="four wide" style="padding:5px;">
            <div style="background:none;position:relative;width:100%;padding-top:100%;">
              <img src="{{ feeds_top.2.image.url }}" style="object-fit:cover;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;">
            </div>
          </td>
        </tr>
        <tr style="border:none;">
          <td style="padding:5px;border:0 !important">
            <div style="background:none;position:relative;width:100%;padding-top:100%;">
              <img src="{{ feeds_top.3.image.url }}" style="object-fit:cover;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;">
            </div>
          </td>
          <td style="padding:5px;border:0 !important">
            <div style="background:none;position:relative;width:100%;padding-top:100%;">
              <img src="{{ feeds_top.4.image.url }}" style="object-fit:cover;position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;">
            </div>
          </td>
        </tr>
      </tbody>

    </table>

    {% include "app/title.html" with title="GET.CH." type=0 %}

    <div class="ui compact labeled icon secondary menu">
      <a class="intromenu-item item" href="/journey/adidas/">
        <i class="intromenu-icon" data-feather="search"></i>
        <span class="intromenu-label">discover</span>
      </a>

      <a class="intromenu-item item" href="/channels/">
        <i class="intromenu-icon" data-feather="grid"></i>
        <span class="intromenu-label">channel</span>
      </a>

      <a class="intromenu-item item">
        <i class="intromenu-icon" data-feather="user"></i>
        <span class="intromenu-label">mymy</span>
      </a>
    </div>

  </div>

</div>


<div class="ui vertical segment" style="background:none;border:none;">
  <div class="ui text container" style="background:none;">

    <div id="feedbox">
      <img id="feedbox-profile" class="ui circular image" src="{{ user.socialaccount_set.all.0.get_avatar_url }}">

      <textarea placeholder="할까? 공유. 패션에 관한 _________"></textarea>


      <div id="feedbox-footmenu" class="ui center aligned basic segment">

        <div id="feedbox-topmenu" class="ui compact labeled icon secondary menu">
          <a class="feedbox-topmenu-item item">
            <i class="feedbox-topmenu-icon" data-feather="star" style="fill:red;stroke-width:1;"></i>
            <span class="feedbox-topmenu-label">맘대로 평가·후기</span>
          </a>

          <a class="feedbox-topmenu-item item">
            <i class="feedbox-topmenu-icon" data-feather="layers" style="fill:lightblue;stroke-width:1;"></i>
            <span class="feedbox-topmenu-label">별거 다 물어보기</span>
          </a>

          <a class="feedbox-topmenu-item item">
            <i class="feedbox-topmenu-icon" data-feather="image" style="fill:orange;stroke-width:1;"></i>
            <span class="feedbox-topmenu-label">이미지·영상</span>
          </a>
        </div>

        <div class="ui divider" style="margin:5px;"></div>

          <div class="ui secondary icon compact menu" style="background:none;width:100%;">
            <a class="feedbox-footmenu-item item">
              <i class="feedbox-footmenu-icon" data-feather="plus-circle"></i>
            </a>

            <div class="right menu">
              <!-- <a class="feedbox-footmenu-item item">
                <i class="feedbox-footmenu-icon" data-feather="plus-circle"></i>
              </a> -->
              <a class="item">
                submit
              </a>
            </div>
          </div>

      </div>
    </div>

  </div>
</div>


<div class="ui vertical segment" style="background:none;border:none;margin-top:50px;">
  <div class="ui text container" style="background:none;">
    {% include "app/title.html" with title="HOT.CHANNEL.NOW." type=1 %}
    {% include "app/focus_grid.html" %}
  </div>
</div>


<div class="ui vertical segment" style="background:none;border:none;margin-top:50px;">
  <div class="ui text container" style="background:none;">
    {% include "app/title.html" with title="HOT.KEYWORD.NOW." type=2 %}

    <br>
    최근 3개월...
    <br>
    
    <div class="content">
      <div id="wordcloud" style="text-align:center"></div>
    </div>
  </div>
</div>


<div class="ui vertical segment" style="background:none;border:none;margin-top:50px;">
  <div class="ui text container" style="background:none;">
    {% include "app/title.html" with title="WHAT.S.NEW." type=1 %}

    <p>
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </p>
  </div>
</div>



{% endblock content %}

{% block js %}
  {{ block.super }}
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="{% static 'js/d3.layout.cloud.js' %}"></script>
  <script src="{% static 'js/wordcloud.js' %}"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.3/lib/alea.min.js"></script>

  <script src="https://unpkg.com/popper.js@1/dist/umd/popper.min.js"></script>
  <script src="https://unpkg.com/tippy.js@4"></script>


  <script>
    WordCloud({
      container: "#wordcloud",
      data: {{ hashtags_freq | safe }},
      width: $("#wordcloud").width(),
      height: 600
    });


    $('.masthead').visibility({
      once: false,
      onBottomPassed: function() {
        $('#top-header').transition('fade in');
      },
      onBottomPassedReverse: function() {
        $('#top-header').transition('fade out');
      }
    });

    // var feedholder = '할까? 공유. 패션에 관한 _________'

    $('#feedbox textarea').each(function() {
      // this.style.paddingTop = '10px';
      // this.placeholder = feedholder;
      $('#feedbox-footmenu').css('display', 'none');

    }).focusin(function() {
      // this.style.paddingTop = '60px';
      this.style.height = 'auto';
      this.style.height = (this.scrollHeight) + 'px';
      // this.placeholder = '';
      $('#feedbox-footmenu').css('display', 'block');
      // $('#feedbox-topmenu').css('background', 'lightblue;');

    }).focusout(function() {
      if (this.value=='') {
        this.style.height = '40px';
        // this.style.paddingTop = '10px';
        // this.placeholder = feedholder;
        $('#feedbox-footmenu').css('display', 'none');
      };

    }).on('input', function() {
      this.style.height = 'auto';
      this.style.height = (this.scrollHeight) + 'px';
    });

    // $('.home-guide').click(function() {
    //   var url = $(this).attr("href");
    //   window.location.assign(url);
    // })
  </script>
{% endblock js %}
